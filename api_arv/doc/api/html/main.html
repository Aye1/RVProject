<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Api Arv: Introduction</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindexHL" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<h1>Introduction </h1>
<p>
<h2><a class="anchor" name="organisation">
Organisation of Api ARV</a></h2>
In the following documentation <code>ARV_ROOT</code> will denote the root of this api (usually <code>/usr/local/api_arv</code>). It is organised as follows :<ul>
<li><code>ARV_ROOT/data</code> : place for common data used by the api</li><li><code>ARV_ROOT/doc</code> : general place for documentation.</li><li><code>ARV_ROOT/doc/api</code> : contains this documentation and the doxygen confiuration file to generate it.</li><li><code>ARV_ROOT/examples</code> : contains projects examples using this api.</li><li><code>ARV_ROOT/lib</code> : contains external libs used by classes of the api</li><li><code>ARV_ROOT/qmake</code> : contains <code>qmake</code> configuration files (<code></code>.prf) for this api</li><li><code>ARV_ROOT/src</code> : contains the source files of the api.</li><li><code>ARV_ROOT/tests</code> : contains tests for classes of this api.</li><li><code>ARV_ROOT/tools</code> : contains various useful tools.</li></ul>
<h2><a class="anchor" name="compilation1">
Api ARV projects compilation</a></h2>
Using qmake is the simplest way to compile a project making use of ApiArv classes. There is a template project file in <code>ARV_ROOT/examples</code>.<p>
A typical qmake project configuration file (.pro) looks like this :<p>
<div class="fragment"><pre class="fragment">TARGET   = Prog                 # name of the produced executable
TEMPLATE = app                  # make an application, not a library
CONFIG *= warn_on debug         # to get warnings and debug info
CONFIG *= arv                   # necessary to use ApiArv classes
CONFIG *= qglviewer glut        # possibly use other external libs

ARV = camera tracker sound      # tells which ApiArv classes are needed

HEADERS = sources/*.h           # all the C++ headers of the project
SOURCES = sources/*.cpp         # all the C++ sources of the project

OBJECTS_DIR = .obj              # the directory where will be placed object (.o) files.
</pre></div><p>
Once this project file is created just run the following commands in a shell, in the directory containing the <code></code>.pro file : <div class="fragment"><pre class="fragment">&gt; qmake
&gt; make
</pre></div><p>
The program should be compiled.<h2><a class="anchor" name="compilation2">
How does that work?</a></h2>
<code>qmake</code> works with configuration files indentified by a <code></code>.prf extension.<p>
For each token (e.g. <code>arv</code>) put in the <code>CONFIG</code> variable, <code>qmake</code> will search for a corresponding <code></code>.prf file (e.g. <code>arv.prf</code>) in standard Qt locations and also in directories listed in the <code>QMAKEFEATURES</code> environment variable (or the corresponding Qt "property variable" whose value can be queried using <code>qmake</code> <code>-query</code> or set using <code>qmake</code> <code>-set</code> <code>QMAKEFEATURES</code> <code></code>...).<p>
The directory <code>ARV_ROOT/qmake</code> contains useful <code></code>.prf files for ApiArv projects configuration.<p>
To use any Api ARV class, two steps are needed :<ul>
<li>tell that some <code>arv</code> classes are going to be used : <code>CONFIG</code> <code>+=</code> <code>arv</code> </li><li>specify with variable <code>ARV</code> which ApiArv classes are going to be used, e.g. : <code>ARV</code> <code>+=</code> <code>camera</code> <code>glove</code> <code>tracker</code> </li></ul>
<p>
Simply adding these two lines to your project file makes automatic and transparent the necessary includes and dependencies resolution for ApiArv classes.<p>
Variable <code>ARV</code> understands the following tokens :<ul>
<li><code>camera</code> </li><li><code>fob</code> </li><li><code>glove</code> </li><li><code>image</code> </li><li><code>keyboard</code> </li><li><code>microphone</code> </li><li><code>motorized_camera</code> </li><li><code>mouse</code> </li><li><code>mutex</code> </li><li><code>serial_port</code> </li><li><code>sound3d</code> </li><li><code>sound</code> </li><li><code>tcp_socket</code> </li><li><code>thread</code> </li><li><code>tracker</code> </li><li><code>udp_socket</code> </li><li><code>yoke</code> </li></ul>
<h2><a class="anchor" name="code">
ApiArv headers inclusion.</a></h2>
To avoid any name collisions with other's libs headers, all ApiArv files are located in a <code>ApiArv</code> subdirectory. Only the parent of this directory is put in the <code>INCLUDEPATH</code>, so that it makes necessary to explicitly specify the full names to include ApiArv headers, e.g.: <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;ApiArv/Camera.h&gt;</span>
</pre></div> Furthermore, all ApiArv classes belong to the <code>arv</code> namespace. <hr size="1"><address style="align: right;"><small>Generated on Fri Nov 14 21:45:29 2008 for Api Arv by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
